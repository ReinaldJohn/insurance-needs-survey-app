{"version":3,"file":"/js/common.js","mappings":"CAAA,SAAWA,GACP,aAGAA,EAAEC,QAAQC,GAAG,QAAQ,WAEjBF,EAAE,+BAA+BG,UACjCH,EAAE,cAAcI,MAAM,KAAKD,QAAQ,QACnCH,EAAE,QAAQI,MAAM,KAAKC,IAAI,CACrBC,SAAU,WAElB,IAEe,IAAIC,kBAAiB,WAKhC,IAIKC,QAAQC,SAAU,CACvBC,WAAW,EACXC,SAAS,IAGb,IAAIC,GAAiB,EACrBZ,EAAE,YAAYK,IAAI,SAAU,WAC5BL,EAAE,kBAAkBE,GAAG,UAAU,WAC7BU,EAAiBZ,EAAEa,MAAMC,GAAG,YAC5Bd,EAAE,YAAYK,IAAI,SAAUO,EAAiB,UAAY,UAC7D,IAOAZ,EAAE,qBACGe,OAAO,CACJC,aAAc,WACdC,OAAQ,UACRC,aAAc,SAAUC,EAAOC,GAC3B,GAAuC,GAAnCpB,EAAE,iBAAiBqB,MAAMC,OACzB,OAAO,EAEX,IAAKF,EAAMG,gBAAiB,OAAO,EACnC,IAAIC,EAASxB,EAAEa,MAAME,OAAO,SAASU,KAAKC,KAAK,UA4E/C,OA3EIN,EAAMK,KAAKE,SAAS,WACpB3B,EAAE,YAAYE,GAAG,SAAS,SAAU0B,GAEhC,GADAA,EAAEC,kBACGjB,EAMD,OAHAkB,OAAOC,QACH,4CAEG,EAEP/B,EAAE,gBAAgBK,IAAI,UAAW,SAQjC,IAPA,IAAI2B,EAAW,IAAIC,SACfxB,SAASyB,cAAc,aAGvBC,EAAY,CAAC,EACbC,EAAY,CAAC,EAERC,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAIC,EAAYtC,EAAE,mBAAqBqC,GACnCE,EAAYvC,EAAE,mBAAqBqC,GACvCF,EAAU,IAAME,GAAKC,EAAUxB,GAAG,YAC5B,EACA,EACNsB,EAAU,IAAMC,GAAKE,EAAUzB,GAAG,YAC5B,EACA,CACV,CAGAkB,EAASQ,OACL,aACAC,KAAKC,UAAUP,IAEnBH,EAASQ,OACL,aACAC,KAAKC,UAAUN,IAGnBO,MACKC,KAAK,eAAgBZ,EAAU,CAC5Ba,QAAS,CACL,eAAgB7C,EACZ,2BACF8C,KAAK,WAEP,eAAgB,yBAGvBC,MAAK,SAACC,GACHhD,EAAE,gBAAgBK,IAAI,UAAW,QACJ,YAAzB2C,EAASC,KAAKC,QACdlD,EAAE,YAAY,GAAGmD,QACjBlD,OAAOmD,KAAK,YAAa,UACzBC,SAASC,UAGTC,QAAQC,MACJ,wBACAR,EAASC,KAAKQ,QAG1B,IAAE,OACK,SAACD,GACJxD,EAAE,gBAAgBK,IAAI,UAAW,QACjCkD,QAAQC,MACJ,oBACAA,EAAMR,SAASC,KAAKQ,QAE5B,GAEZ,KAGIjC,EAAOF,UAAYE,EAAOkC,OACtC,IAEHC,SAAS,CACNC,eAAgB,SAAUJ,EAAOK,GACzBA,EAAQ/C,GAAG,WAAa+C,EAAQ/C,GAAG,aACnC0C,EAAMM,aAAaD,EAAQE,QAE3BP,EAAMQ,YAAYH,EAE1B,IAIR7D,EAAE,gBAAgBiE,cAClBjE,EAAE,qBAAqBe,OAAO,CAC1BmD,YAAa,SAAU/C,EAAOC,GAC1BpB,EAAE,gBAAgBiE,YAAY,QAAS7C,EAAM+C,iBAC7CnE,EAAE,aAAaoE,KACX,IAAMhD,EAAMiD,cAAgB,IAAMjD,EAAMkD,cAAgB,IAEhE,IAIJtE,EAAE,YAAY2D,SAAS,CACnBY,OAAQ,GACRC,MAAO,CACHC,OAAQ,CACJC,UAAU,IAGlBd,eAAgB,SAAUJ,EAAOK,GACzBA,EAAQ/C,GAAG,iBACX0C,EAAMQ,YAAYH,EAAQE,KAAK,iBAE/BP,EAAMQ,YAAYH,EAE1B,IAIJ,IAAIc,EAAO3E,EAAE,gBACb2E,EAAKzE,GAAG,UAAU,WACdyE,EAAKhB,WACDgB,EAAKjB,SACL1D,EAAE,gBAAgB4E,QAE1B,IAGA5E,EAAE,YAAY6E,cAAc,CACxBC,KAAM,SACNC,iBAAiB,EACjBC,YAAY,EACZC,UAAW,OACXC,gBAAgB,EAChBC,WAAW,EACXC,UAAU,EACVC,aAAc,IACdC,YACI,oEACJC,UAAW,mBAGfvF,EAAE,qBAAqBwF,QAAQ,CAC3BC,YAAa,mDAgBjBzF,EAAE,aAAaE,GAAG,SAblB,WACI,IAAIwF,EAAS1F,EAAEa,MAAMQ,MAAMsE,QAAQ,SAAU,IACzCD,EAAOpE,OAAS,KAChBoE,EAASA,EAAOE,MAAM,EAAG,KAER,GAAjBF,EAAOpE,OACPoE,EAASA,EAAOC,QAAQ,iBAAkB,SAClB,IAAjBD,EAAOpE,SACdoE,EAASA,EAAOC,QAAQ,wBAAyB,eAErD3F,EAAEa,MAAMQ,IAAIqE,EAChB,GAGH,CA/MD,CA+MGzF,OAAO4F","sources":["webpack:///./resources/js/common_functions.js"],"sourcesContent":["(function ($) {\n    \"use strict\";\n\n    // Preload\n    $(window).on(\"load\", function () {\n        // makes sure the whole site is loaded\n        $('[data-loader=\"circle-side\"]').fadeOut(); // will first fade out the loading animation\n        $(\"#preloader\").delay(350).fadeOut(\"slow\"); // will fade out the white DIV that covers the website.\n        $(\"body\").delay(350).css({\n            overflow: \"visible\",\n        });\n    });\n\n    let observer = new MutationObserver(() => {\n        // $(\n        //     \"#wrapped :checkbox, #wrapped input, #wrapped select, #wrapped textarea\"\n        // )\n        //     // .not(\"#fax_number, #personal_website, #bond_owners_spouse_ssn\")\n        //     .prop(\"required\", true);\n    });\n\n    // Observe the entire document for changes\n    observer.observe(document, {\n        childList: true, // Observes direct children\n        subtree: true, // Observes all descendants\n    });\n\n    var isTermsChecked = false;\n    $(\"#process\").css(\"cursor\", \"no-drop\");\n    $(\"#termsCheckbox\").on(\"change\", function () {\n        isTermsChecked = $(this).is(\":checked\");\n        $(\"#process\").css(\"cursor\", isTermsChecked ? \"pointer\" : \"no-drop\");\n    });\n\n    // $(\"#wrapped\").on(\"submit\", function (e) {\n    //     e.preventDefault();\n    // });\n\n    // Wizard\n    $(\"#wizard_container\")\n        .wizard({\n            stepsWrapper: \"#wrapped\",\n            submit: \".submit\",\n            beforeSelect: function (event, state) {\n                if ($(\"input#website\").val().length != 0) {\n                    return false;\n                }\n                if (!state.isMovingForward) return true;\n                var inputs = $(this).wizard(\"state\").step.find(\":input\");\n                if (state.step.hasClass(\"submit\")) {\n                    $(\"#process\").on(\"click\", function (e) {\n                        e.preventDefault();\n                        if (!isTermsChecked) {\n                            // event.preventDefault(); // This prevents the button click from doing anything\n                            // alert(\"Please accept the terms and conditions\"); // Optional: Show a message\n                            toastr.warning(\n                                \"Please accept the terms and conditions.\"\n                            );\n                            return false;\n                        } else {\n                            $(\"#loader_form\").css(\"display\", \"block\");\n                            var formData = new FormData(\n                                document.querySelector(\"#wrapped\")\n                            ); // Access the native HTML form element\n                            // Create an object to hold the checkbox values\n                            var question1 = {};\n                            var question2 = {};\n                            // Iterate through the checkboxes and add their values to the object\n                            for (var i = 1; i <= 7; i++) {\n                                var checkbox1 = $(\"#question_1_opt_\" + i);\n                                var checkbox2 = $(\"#question_2_opt_\" + i);\n                                question1[\"q\" + i] = checkbox1.is(\":checked\")\n                                    ? 1\n                                    : 0;\n                                question2[\"q\" + i] = checkbox2.is(\":checked\")\n                                    ? 1\n                                    : 0;\n                            }\n\n                            // Add the checkbox object to your FormData\n                            formData.append(\n                                \"question_1\",\n                                JSON.stringify(question1)\n                            );\n                            formData.append(\n                                \"question_2\",\n                                JSON.stringify(question2)\n                            );\n\n                            axios\n                                .post(\"/submit-form\", formData, {\n                                    headers: {\n                                        \"X-CSRF-TOKEN\": $(\n                                            'meta[name=\"csrf-token\"]'\n                                        ).attr(\"content\"),\n                                        // \"Content-Type\": \"application/json\",\n                                        \"Content-Type\": \"multipart/form-data\",\n                                    },\n                                })\n                                .then((response) => {\n                                    $(\"#loader_form\").css(\"display\", \"none\");\n                                    if (response.data.status === \"success\") {\n                                        $(\"#wrapped\")[0].reset();\n                                        window.open(\"/thankyou\", \"_blank\");\n                                        location.reload();\n                                    } else {\n                                        // Handle error accordingly\n                                        console.error(\n                                            \"Error in saving form:\",\n                                            response.data.message\n                                        );\n                                    }\n                                })\n                                .catch((error) => {\n                                    $(\"#loader_form\").css(\"display\", \"none\");\n                                    console.error(\n                                        \"Error in sending:\",\n                                        error.response.data.message\n                                    );\n                                });\n                        }\n                    });\n                }\n\n                return !inputs.length || !!inputs.valid();\n            },\n        })\n        .validate({\n            errorPlacement: function (error, element) {\n                if (element.is(\":radio\") || element.is(\":checkbox\")) {\n                    error.insertBefore(element.next());\n                } else {\n                    error.insertAfter(element);\n                }\n            },\n        });\n\n    //  progress bar\n    $(\"#progressbar\").progressbar();\n    $(\"#wizard_container\").wizard({\n        afterSelect: function (event, state) {\n            $(\"#progressbar\").progressbar(\"value\", state.percentComplete);\n            $(\"#location\").text(\n                \"(\" + state.stepsComplete + \"/\" + state.stepsPossible + \")\"\n            );\n        },\n    });\n\n    // Validate select\n    $(\"#wrapped\").validate({\n        ignore: [],\n        rules: {\n            select: {\n                required: true,\n            },\n        },\n        errorPlacement: function (error, element) {\n            if (element.is(\"select:hidden\")) {\n                error.insertAfter(element.next(\".nice-select\"));\n            } else {\n                error.insertAfter(element);\n            }\n        },\n    });\n\n    // Submit loader mask\n    var form = $(\"form#wrapped\");\n    form.on(\"submit\", function () {\n        form.validate();\n        if (form.valid()) {\n            $(\"#loader_form\").fadeIn();\n        }\n    });\n\n    // Modal Help\n    $(\"#modal_h\").magnificPopup({\n        type: \"inline\",\n        fixedContentPos: true,\n        fixedBgPos: true,\n        overflowY: \"auto\",\n        closeBtnInside: true,\n        preloader: false,\n        midClick: true,\n        removalDelay: 300,\n        closeMarkup:\n            '<button title=\"%title%\" type=\"button\" class=\"mfp-close\"></button>',\n        mainClass: \"my-mfp-zoom-in\",\n    });\n\n    $(\"#trades_performed\").select2({\n        placeholder: \"Select the trade, or trades you perform here..\",\n    });\n\n    function formatUSPhone() {\n        var number = $(this).val().replace(/[^\\d]/g, \"\");\n        if (number.length > 10) {\n            number = number.slice(0, 10); // Ensures that the phone number is not more than 10 digits\n        }\n        if (number.length == 7) {\n            number = number.replace(/(\\d{3})(\\d{4})/, \"$1-$2\");\n        } else if (number.length == 10) {\n            number = number.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1) $2-$3\");\n        }\n        $(this).val(number);\n    }\n\n    $(\"#phone_no\").on(\"input\", formatUSPhone);\n})(window.jQuery);\n"],"names":["$","window","on","fadeOut","delay","css","overflow","MutationObserver","observe","document","childList","subtree","isTermsChecked","this","is","wizard","stepsWrapper","submit","beforeSelect","event","state","val","length","isMovingForward","inputs","step","find","hasClass","e","preventDefault","toastr","warning","formData","FormData","querySelector","question1","question2","i","checkbox1","checkbox2","append","JSON","stringify","axios","post","headers","attr","then","response","data","status","reset","open","location","reload","console","error","message","valid","validate","errorPlacement","element","insertBefore","next","insertAfter","progressbar","afterSelect","percentComplete","text","stepsComplete","stepsPossible","ignore","rules","select","required","form","fadeIn","magnificPopup","type","fixedContentPos","fixedBgPos","overflowY","closeBtnInside","preloader","midClick","removalDelay","closeMarkup","mainClass","select2","placeholder","number","replace","slice","jQuery"],"sourceRoot":""}